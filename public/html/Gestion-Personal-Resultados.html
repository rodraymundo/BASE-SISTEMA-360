<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Resultados del Personal - Balmoral Escocés</title>
  <link rel="icon" type="image/x-icon" href="/assets/img/favicon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/assets/css/Dashboard.css">
  <link rel="stylesheet" href="/assets/css/Gestion-Personal-Resultados.css">
</head>
<body class="gestion-personal-resultados">
  <div id="header-container"></div>
  <div class="container-fluid">
    <div class="row">
      <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="position-sticky pt-3">
          <h4 class="sidebar-heading">Categorías de Roles</h4>
          <div class="accordion" id="rolesAccordion">
            <!-- Categorías dinámicas se insertan aquí -->
            <div id="dynamicRoles"></div>
            <!-- Categorías estáticas -->
            <div class="accordion-item" data-type="services">
              <h2 class="accordion-header" id="headingServicios">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseServicios" aria-expanded="false" aria-controls="collapseServicios">
                  Servicios
                </button>
              </h2>
              <div id="collapseServicios" class="accordion-collapse collapse" aria-labelledby="headingServicios" data-bs-parent="#rolesAccordion">
                <div class="accordion-body">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item role-item" data-type="services">Servicios</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="accordion-item" data-type="la-loma">
              <h2 class="accordion-header" id="headingLaLoma">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLaLoma" aria-expanded="false" aria-controls="collapseLaLoma">
                  La Loma
                </button>
              </h2>
              <div id="collapseLaLoma" class="accordion-collapse collapse" aria-labelledby="headingLaLoma" data-bs-parent="#rolesAccordion">
                <div class="accordion-body">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item role-item" data-type="la-loma">Disciplinas Deportivas</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="accordion-item" data-type="ligas-deportivas">
              <h2 class="accordion-header" id="headingLigasDeportivas">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLigasDeportivas" aria-expanded="false" aria-controls="collapseLigasDeportivas">
                  Ligas Deportivas
                </button>
              </h2>
              <div id="collapseLigasDeportivas" class="accordion-collapse collapse" aria-labelledby="headingLigasDeportivas" data-bs-parent="#rolesAccordion">
                <div class="accordion-body">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item role-item" data-type="ligas-deportivas">Ligas Deportivas</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h2 id="mainTitle"><i class="fas fa-users me-2"></i>Resultados del Personal</h2>
          <div class="input-group" style="max-width: 400px;">
            <input id="buscadorPersonal" type="search" class="form-control" placeholder="Buscar personal...">
          </div>
        </div>
        <div id="personalContainer" class="row"></div>
        <div id="serviciosContainer" class="row" style="display: none;"></div>
      </main>
    </div>
  </div>
  <div class="modal fade" id="perfilModal" tabindex="-1" aria-labelledby="perfilModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="perfilModalLabel">Ficha Técnica del Personal</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <button type="button" class="btn btn-resultados-pdf"><i class="fas fa-download me-2"></i>Resultados</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="kpisModal" tabindex="-1" aria-labelledby="kpisModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="kpisModalLabel">Indicadores Clave de Rendimiento (KPIs)</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="evaluacionesModal" tabindex="-1" aria-labelledby="evaluacionesModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="evaluacionesModalLabel">Evaluaciones</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="evaluacionesButtons" class="d-flex flex-wrap justify-content-center gap-3"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="resultadosModal" tabindex="-1" aria-labelledby="resultadosModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="resultadosModalLabel">Resultados</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex justify-content-center gap-3">
            <button class="btn btn-kpis" data-id="">KPIs</button>
            <button class="btn btn-evaluaciones" data-id="">Evaluaciones</button>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="serviciosResultadosModal" tabindex="-1" aria-labelledby="serviciosResultadosModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="serviciosResultadosModalLabel">Resultados</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="evaluacionResultsModal" tabindex="-1" aria-labelledby="evaluacionResultsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="evaluacionResultsModalLabel">Resultados de Evaluación</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
  <canvas id="chart-canvas" width="800" height="400"></canvas>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <script type="module" src="/js/Gestion-Personal-Resultados.js"></script>
</body>
</html>